/* /01-implementation/task-improvements/task-status-indicators.css */
/* Visual status styling for task management with exact color integration */
/* Provides comprehensive status indicators with animations and mobile optimization */
/* RELEVANT FILES: enhanced-task-cards.tsx, color-system.css, responsive-breakpoints.css */

/* ===== TASK STATUS SYSTEM ===== */

/* Base task status variables using RIX color system */
:root {
  /* Status Colors - Exact integration with color-system.css */
  --task-status-todo: var(--text-secondary);           /* #A0AEC0 */
  --task-status-todo-bg: transparent;
  --task-status-todo-border: var(--border-color);      /* #2D3748 */
  
  --task-status-progress: var(--primary-blue);         /* #0066FF */
  --task-status-progress-bg: var(--primary-blue-alpha-10); /* rgba(0, 102, 255, 0.1) */
  --task-status-progress-border: var(--primary-blue);  /* #0066FF */
  
  --task-status-completed: var(--success-color);       /* #34D399 */
  --task-status-completed-bg: var(--success-background); /* rgba(52, 211, 153, 0.1) */
  --task-status-completed-border: var(--success-color);
  
  --task-status-blocked: var(--error-color);           /* #EF4444 */
  --task-status-blocked-bg: var(--error-background);   /* rgba(239, 68, 68, 0.1) */
  --task-status-blocked-border: var(--error-color);
  
  /* Priority Colors - Exact values for consistency */
  --task-priority-high: #EF4444;                       /* Red */
  --task-priority-high-bg: rgba(239, 68, 68, 0.1);
  --task-priority-high-border: #EF4444;
  
  --task-priority-medium: #FBBF24;                     /* Amber/Yellow */
  --task-priority-medium-bg: rgba(251, 191, 36, 0.1);
  --task-priority-medium-border: #FBBF24;
  
  --task-priority-low: #34D399;                        /* Green */
  --task-priority-low-bg: rgba(52, 211, 153, 0.1);
  --task-priority-low-border: #34D399;
  
  /* Due Date Urgency Colors */
  --task-overdue: var(--error-color);                  /* #EF4444 */
  --task-overdue-bg: var(--error-background);
  --task-due-today: var(--warning-color);              /* #FBBF24 */
  --task-due-today-bg: var(--warning-background);
  --task-due-soon: var(--info-color);                  /* #60A5FA */
  --task-due-soon-bg: var(--info-background);
  
  /* Animation Variables */
  --task-pulse-duration: 2s;
  --task-glow-duration: 1.5s;
  --task-bounce-duration: 0.6s;
}

/* ===== STATUS INDICATOR COMPONENTS ===== */

/* Base status indicator styling */
.task-status-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 2px solid;
  transition: var(--transition-normal);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

/* Touch-friendly mobile targets */
@media (max-width: 768px) {
  .task-status-indicator {
    width: 32px;
    height: 32px;
    /* Extended touch area for mobile */
  }
  
  .task-status-indicator::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 44px;
    height: 44px;
    transform: translate(-50%, -50%);
    z-index: -1;
  }
}

/* Status: Todo */
.task-status-todo {
  color: var(--task-status-todo);
  background: var(--task-status-todo-bg);
  border-color: var(--task-status-todo-border);
}

.task-status-todo:hover {
  border-color: var(--task-status-progress);
  background: var(--task-status-progress-bg);
  transform: scale(1.1);
}

/* Status: In Progress */
.task-status-progress {
  color: var(--task-status-progress);
  background: var(--task-status-progress-bg);
  border-color: var(--task-status-progress-border);
  animation: task-progress-pulse var(--task-pulse-duration) infinite;
}

.task-status-progress:hover {
  background: var(--task-status-completed-bg);
  border-color: var(--task-status-completed);
  transform: scale(1.1);
}

/* Status: Completed */
.task-status-completed {
  color: white;
  background: var(--task-status-completed);
  border-color: var(--task-status-completed-border);
}

.task-status-completed:hover {
  background: var(--task-status-todo-bg);
  border-color: var(--task-status-todo-border);
  color: var(--task-status-todo);
  transform: scale(1.1);
}

/* Status: Blocked */
.task-status-blocked {
  color: var(--task-status-blocked);
  background: var(--task-status-blocked-bg);
  border-color: var(--task-status-blocked-border);
  animation: task-blocked-pulse var(--task-pulse-duration) infinite;
}

.task-status-blocked:hover {
  background: var(--task-status-todo-bg);
  border-color: var(--task-status-todo-border);
  color: var(--task-status-todo);
  transform: scale(1.1);
}

/* ===== PRIORITY INDICATORS ===== */

/* Priority badge base styling */
.task-priority-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: var(--radius-md); /* 6px */
  font-size: var(--text-xs); /* 12px */
  font-weight: var(--font-medium);
  border: 1px solid;
  transition: var(--transition-normal);
}

/* Priority: High */
.task-priority-high {
  color: var(--task-priority-high);
  background: var(--task-priority-high-bg);
  border-color: var(--task-priority-high-border);
}

/* Priority: Medium */
.task-priority-medium {
  color: var(--task-priority-medium);
  background: var(--task-priority-medium-bg);
  border-color: var(--task-priority-medium-border);
}

/* Priority: Low */
.task-priority-low {
  color: var(--task-priority-low);
  background: var(--task-priority-low-bg);
  border-color: var(--task-priority-low-border);
}

/* ===== PRIORITY BORDER ACCENTS ===== */

/* Left border accent for task cards */
.task-card-priority-accent {
  position: relative;
}

.task-card-priority-accent::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: currentColor;
  transition: var(--transition-normal);
}

/* High priority - 4px left border */
.task-card-priority-high::before {
  width: 4px;
  background: var(--task-priority-high);
}

/* Medium priority - 2px left border */
.task-card-priority-medium::before {
  width: 2px;
  background: var(--task-priority-medium);
}

/* Low priority - 1px left border */
.task-card-priority-low::before {
  width: 1px;
  background: var(--task-priority-low);
}

/* ===== DUE DATE INDICATORS ===== */

/* Due date badge base styling */
.task-due-date-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  border: 1px solid;
  transition: var(--transition-normal);
}

/* Overdue styling */
.task-due-overdue {
  color: var(--task-overdue);
  background: var(--task-overdue-bg);
  border-color: var(--task-overdue);
  animation: task-overdue-pulse var(--task-pulse-duration) infinite;
}

/* Due today styling */
.task-due-today {
  color: var(--task-due-today);
  background: var(--task-due-today-bg);
  border-color: var(--task-due-today);
}

/* Due soon styling */
.task-due-soon {
  color: var(--task-due-soon);
  background: var(--task-due-soon-bg);
  border-color: var(--task-due-soon);
}

/* Future due date styling */
.task-due-future {
  color: var(--text-secondary);
  background: transparent;
  border-color: var(--border-color);
}

/* ===== TASK CARD STATES ===== */

/* Base task card styling */
.enhanced-task-card {
  background: var(--card-background);
  border: 1px solid var(--border-color);
  border-radius: var(--card-radius);
  transition: var(--transition-normal);
  position: relative;
  overflow: hidden;
}

/* Hover state */
.enhanced-task-card:hover {
  background: var(--card-background-hover);
  border-color: var(--border-color-light);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

/* Active/Focus state */
.enhanced-task-card:focus-within {
  outline: 2px solid var(--primary-blue);
  outline-offset: 2px;
}

/* Selected state */
.enhanced-task-card-selected {
  border-color: var(--primary-blue);
  box-shadow: 0 0 0 2px var(--primary-blue-alpha-20);
}

/* Completed task card styling */
.enhanced-task-card-completed {
  opacity: 0.75;
}

.enhanced-task-card-completed .task-title {
  text-decoration: line-through;
  color: var(--text-muted);
}

/* Blocked task card styling */
.enhanced-task-card-blocked {
  border-color: var(--task-status-blocked-border);
  background: linear-gradient(
    90deg,
    var(--card-background) 0%,
    var(--task-status-blocked-bg) 100%
  );
}

/* ===== ANIMATIONS ===== */

/* Progress pulse animation */
@keyframes task-progress-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--task-status-progress-bg);
  }
  50% {
    box-shadow: 0 0 0 4px var(--task-status-progress-bg);
  }
}

/* Blocked pulse animation */
@keyframes task-blocked-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--task-status-blocked-bg);
  }
  50% {
    box-shadow: 0 0 0 4px var(--task-status-blocked-bg);
  }
}

/* Overdue pulse animation */
@keyframes task-overdue-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 var(--task-overdue-bg);
    opacity: 1;
  }
  50% {
    box-shadow: 0 0 0 4px var(--task-overdue-bg);
    opacity: 0.8;
  }
}

/* Completion animation */
@keyframes task-completion-bounce {
  0% { transform: scale(1); }
  25% { transform: scale(1.2); }
  50% { transform: scale(0.95); }
  75% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* Status change animation */
@keyframes task-status-change {
  0% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.1) rotate(90deg); }
  50% { transform: scale(0.9) rotate(180deg); }
  75% { transform: scale(1.05) rotate(270deg); }
  100% { transform: scale(1) rotate(360deg); }
}

/* Glow effect for important tasks */
@keyframes task-glow {
  0%, 100% {
    box-shadow: 0 0 5px var(--primary-blue-alpha-20);
  }
  50% {
    box-shadow: 0 0 20px var(--primary-blue-alpha-30);
  }
}

/* ===== INTERACTIVE STATES ===== */

/* Status indicator hover effects */
.task-status-indicator:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.task-status-indicator:active {
  transform: scale(0.95);
  transition: transform 0.1s ease;
}

/* Priority badge hover effects */
.task-priority-badge:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Due date badge hover effects */
.task-due-date-badge:hover {
  transform: translateY(-1px);
  opacity: 0.9;
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .task-status-indicator {
    border-width: 3px;
  }
  
  .task-priority-badge,
  .task-due-date-badge {
    border-width: 2px;
    font-weight: var(--font-bold);
  }
  
  .enhanced-task-card:focus-within {
    outline-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .task-status-indicator,
  .task-priority-badge,
  .task-due-date-badge,
  .enhanced-task-card {
    animation: none !important;
    transition: none !important;
  }
  
  .task-status-indicator:hover,
  .enhanced-task-card:hover {
    transform: none !important;
  }
}

/* Focus visible for keyboard navigation */
.task-status-indicator:focus-visible {
  outline: 2px solid var(--primary-blue);
  outline-offset: 2px;
  border-radius: 50%;
}

/* Screen reader only content */
.task-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===== MOBILE OPTIMIZATIONS ===== */

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Larger touch targets */
  .task-status-indicator {
    width: 36px;
    height: 36px;
  }
  
  /* Increased spacing for mobile */
  .task-priority-badge,
  .task-due-date-badge {
    padding: 6px 10px;
    font-size: 14px;
  }
  
  /* Enhanced mobile card styling */
  .enhanced-task-card {
    padding: var(--space-4);
    margin-bottom: var(--space-3);
  }
  
  /* Mobile hover states (touch devices) */
  .enhanced-task-card:active {
    background: var(--card-background-hover);
    transform: scale(0.98);
  }
}

/* ===== DARK MODE OPTIMIZATIONS ===== */

/* Enhanced visibility in dark mode */
@media (prefers-color-scheme: dark) {
  .task-status-indicator {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
  
  .task-priority-badge,
  .task-due-date-badge {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }
  
  .enhanced-task-card {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }
  
  .enhanced-task-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
}

/* ===== UTILITY CLASSES ===== */

/* Animation trigger classes */
.task-animate-completion {
  animation: task-completion-bounce var(--task-bounce-duration) ease;
}

.task-animate-status-change {
  animation: task-status-change 0.5s ease;
}

.task-animate-glow {
  animation: task-glow var(--task-glow-duration) infinite;
}

/* Hardware acceleration */
.task-hw-accel {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
}

/* Priority-based sorting visual cues */
.task-list-priority-sorted .enhanced-task-card {
  position: relative;
}

.task-list-priority-sorted .task-card-priority-high {
  order: 1;
}

.task-list-priority-sorted .task-card-priority-medium {
  order: 2;
}

.task-list-priority-sorted .task-card-priority-low {
  order: 3;
}

/* Status-based grouping visual separators */
.task-group-separator {
  margin: var(--space-6) 0;
  padding: var(--space-4) 0;
  border-top: 2px solid var(--border-color);
  position: relative;
}

.task-group-separator::before {
  content: '';
  position: absolute;
  top: -1px;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--primary-blue) 50%,
    transparent 100%
  );
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */

/* GPU layer optimization for animations */
.task-status-indicator,
.enhanced-task-card {
  transform: translateZ(0);
}

/* Efficient repaints */
.task-priority-badge,
.task-due-date-badge {
  contain: style layout;
}

/* Memory management */
.enhanced-task-card {
  contain: layout style paint;
}